<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Methods Display</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        .results {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Custom Methods</h1>

        <div class="mb-3">
            <label for="integerInput" class="form-label">Integer Input</label>
            <input type="number" id="integerInput" class="form-control" placeholder="Enter an integer">
        </div>
        
        <div class="mb-3">
            <label for="arrayInput" class="form-label">Array Input (comma separated)</label>
            <input type="text" id="arrayInput" class="form-control" placeholder="Enter numbers separated by commas">
        </div>
        
        <div class="mb-3">
            <label for="stringInput" class="form-label">String Input</label>
            <input type="text" id="stringInput" class="form-control" placeholder="Enter a string">
        </div>

        <button class="btn btn-primary" onclick="updateResults()">Update Results</button>

        <div class="results" id="results"></div>
    </div>

    <script>
        // Custom Methods Object
        const customMethods = {
            Integer: {
                isPrime: function (num) {
                    if (num <= 1) return false;
                    for (let i = 2; i <= Math.sqrt(num); i++) {
                        if (num % i === 0) return false;
                    }
                    return true;
                },
                gcd: function (a, b) {
                    while (b !== 0) {
                        [a, b] = [b, a % b];
                    }
                    return a;
                },
                lcm: function (a, b) {
                    return (a * b) / this.gcd(a, b);
                },
                factorial: function (n) {
                    if (n < 0) return undefined;
                    let result = 1;
                    for (let i = 2; i <= n; i++) {
                        result *= i;
                    }
                    return result;
                },
                isPalindrome: function (num) {
                    const str = num.toString();
                    return str === str.split('').reverse().join('');
                }
            },
            Array: {
                mode: function (arr) {
                    const frequency = {};
                    let maxFreq = 0;
                    let mode;
                    arr.forEach(item => {
                        frequency[item] = (frequency[item] || 0) + 1;
                        if (frequency[item] > maxFreq) {
                            maxFreq = frequency[item];
                            mode = item;
                        }
                    });
                    return mode !== undefined ? mode : null;
                },
                median: function (arr) {
                    if (arr.length === 0) return undefined;
                    const sortedArr = [...arr].sort((a, b) => a - b);
                    const mid = Math.floor(sortedArr.length / 2);
                    return sortedArr.length % 2 !== 0
                        ? sortedArr[mid]
                        : (sortedArr[mid - 1] + sortedArr[mid]) / 2;
                },
                quantile: function (arr, q) {
                    if (arr.length === 0 || q < 0 || q > 1) return undefined;
                    const sortedArr = [...arr].sort((a, b) => a - b);
                    const index = (sortedArr.length - 1) * q;
                    const lower = Math.floor(index);
                    const upper = lower + 1;
                    return upper < sortedArr.length
                        ? sortedArr[lower] * (upper - index) + sortedArr[upper] * (index - lower)
                        : sortedArr[lower];
                },
                correlation: function (arr1, arr2) {
                    if (arr1.length !== arr2.length) return null;
                    const n = arr1.length;
                    const mean1 = arr1.reduce((a, b) => a + b, 0) / n;
                    const mean2 = arr2.reduce((a, b) => a + b, 0) / n;
                    let num = 0, denom1 = 0, denom2 = 0;
                    for (let i = 0; i < n; i++) {
                        num += (arr1[i] - mean1) * (arr2[i] - mean2);
                        denom1 += (arr1[i] - mean1) ** 2;
                        denom2 += (arr2[i] - mean2) ** 2;
                    }
                    return num / Math.sqrt(denom1 * denom2);
                },
                covariance: function (arr1, arr2) {
                    if (arr1.length !== arr2.length) return null;
                    const n = arr1.length;
                    const mean1 = arr1.reduce((a, b) => a + b, 0) / n;
                    const mean2 = arr2.reduce((a, b) => a + b, 0) / n;
                    let cov = 0;
                    for (let i = 0; i < n; i++) {
                        cov += (arr1[i] - mean1) * (arr2[i] - mean2);
                    }
                    return cov / n;
                },
                timsort: function (arr) {
                    return arr.sort((a, b) => a - b);
                }
            },
            String: {
                vowelCount: function (str) {
                    const vowels = 'aeiouAEIOU';
                    return Array.from(str).filter(char => vowels.includes(char)).length;
                },
                consonantCount: function (str) {
                    const vowels = 'aeiouAEIOU';
                    return Array.from(str).filter(char => /[a-zA-Z]/.test(char) && !vowels.includes(char)).length;
                },
                wordCount: function (str) {
                    return str.trim().split(/\s+/).length;
                },
                characterFrequency: function (str) {
                    const freq = {};
                    for (let char of str) {
                        freq[char] = (freq[char] || 0) + 1;
                    }
                    return freq;
                },
                isAnagram: function (str1, str2) {
                    const normalize = str => str.toLowerCase().replace(/[^a-z0-9]/g, '').split('').sort().join('');
                    return normalize(str1) === normalize(str2);
                }
            }
        };

        function updateResults() {
            const integerInput = parseInt(document.getElementById('integerInput').value);
            const arrayInput = document.getElementById('arrayInput').value.split(',').map(Number);
            const stringInput = document.getElementById('stringInput').value;

            let resultsHtml = `<h3>Integer Methods</h3>`;
            if (!isNaN(integerInput)) {
                resultsHtml += `
                    <p>isPrime(${integerInput}): ${customMethods.Integer.isPrime(integerInput)}</p>
                    <p>gcd(12, 15): ${customMethods.Integer.gcd(12, 15)}</p>
                    <p>lcm(12, 15): ${customMethods.Integer.lcm(12, 15)}</p>
                    <p>factorial(${integerInput}): ${customMethods.Integer.factorial(integerInput)}</p>
                    <p>isPalindrome(${integerInput}): ${customMethods.Integer.isPalindrome(integerInput)}</p>
                `;
            }

            resultsHtml += `<h3>Array Methods</h3>`;
            if (arrayInput.length > 0) {
                resultsHtml += `
                    <p>mode([${arrayInput}]): ${customMethods.Array.mode(arrayInput)}</p>
                    <p>median([${arrayInput}]): ${customMethods.Array.median(arrayInput)}</p>
                    <p>quantile([${arrayInput}], 0.5): ${customMethods.Array.quantile(arrayInput, 0.5)}</p>
                    <p>correlation([${arrayInput}], [${arrayInput.map(x => x + 1)}]): ${customMethods.Array.correlation(arrayInput, arrayInput.map(x => x + 1))}</p>
                    <p>covariance([${arrayInput}], [${arrayInput.map(x => x + 1)}]): ${customMethods.Array.covariance(arrayInput, arrayInput.map(x => x + 1))}</p>
                    <p>timsort([${arrayInput}]): ${JSON.stringify(customMethods.Array.timsort(arrayInput))}</p>
                `;
            }

            resultsHtml += `<h3>String Methods</h3>`;
            if (stringInput.trim()) {
                resultsHtml += `
                    <p>vowelCount("${stringInput}"): ${customMethods.String.vowelCount(stringInput)}</p>
                    <p>consonantCount("${stringInput}"): ${customMethods.String.consonantCount(stringInput)}</p>
                    <p>wordCount("${stringInput}"): ${customMethods.String.wordCount(stringInput)}</p>
                    <p>characterFrequency("${stringInput}"): ${JSON.stringify(customMethods.String.characterFrequency(stringInput))}</p>
                    <p>isAnagram("${stringInput}", "listen"): ${customMethods.String.isAnagram(stringInput, "listen")}</p>
                `;
            }

            document.getElementById('results').innerHTML = resultsHtml;
        }
    </script>
</body>
</html>
